.skeleton-card {
  @media screen and (max-width: 1600px) {
    .card-item:last-child {
      display: none;
    }
  }
}

.skeleton-lines {
  margin: auto;
  width: 100%;
  height: 400px; /* change height to see repeat-y behavior */

  background-image: radial-gradient(circle 50px at 50px 50px, lightgray 99%, transparent 0),
    linear-gradient(
      100deg,
      rgba(255, 255, 255, 0),
      rgba(255, 255, 255, 0.5) 50%,
      rgba(255, 255, 255, 0) 80%
    ),
    linear-gradient(lightgray 20px, transparent 0), linear-gradient(lightgray 20px, transparent 0),
    linear-gradient(lightgray 20px, transparent 0), linear-gradient(lightgray 20px, transparent 0);
  background-repeat: repeat-y;
  background-size: 0px 0px, /* circle */ 50px 100px, /* highlight */ 150px 200px, 350px 200px,
    300px 200px, 250px 200px;

  background-position: 0 0, /* circle */ 0 0, /* highlight */ 30px 0, 30px 40px, 30px 80px,
    30px 120px;

  animation: shine 1s infinite;
}

@keyframes shine {
  to {
    background-position: 0 0, 100% 0, /* move highlight to right */ 30px 0, 30px 40px, 30px 80px,
      30px 120px;
  }
}

/*
 * Variables
 */
$card-padding: 24px;
$card-height: 360px;
$card-skeleton: linear-gradient(lightgrey $card-height, transparent 0);

$avatar-size: 150px;
$avatar-position: $card-padding $card-padding;
$avatar-skeleton: linear-gradient(#f5f5f5 400px, transparent 200px);

$title-height: 32px;
$title-width: 200px;
$title-position: $card-padding 180px;
$title-skeleton: linear-gradient(white $title-height, transparent 0);

$desc-line-height: 16px;
$desc-line-skeleton: linear-gradient(white $desc-line-height, transparent 0);
$desc-line-1-width: 230px;
$desc-line-1-position: $card-padding 242px;
$desc-line-2-width: 180px;
$desc-line-2-position: $card-padding 265px;

$footer-height: 0px;
$footer-position: 0 calc(#{$card-height} - #{$footer-height});
$footer-skeleton: linear-gradient(white $footer-height, transparent 0);

$blur-width: 200px;
$blur-size: $blur-width calc(#{$card-height} - #{$footer-height});

.skeleton-card {
  width: 100%;
  height: $card-height;

  &:empty::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 6px;
    box-shadow: 0 10px 45px rgba(0, 0, 0, 0.1);

    background-image: linear-gradient(
        90deg,
        rgba(lightgrey, 0) 0,
        rgba(lightgrey, 0.8) 50%,
        rgba(lightgrey, 0) 100%
      ),
      $title-skeleton, $desc-line-skeleton, $desc-line-skeleton, $avatar-skeleton, $footer-skeleton,
      $card-skeleton;

    background-size: $blur-size, $title-width $title-height, $desc-line-1-width $desc-line-height,
      $desc-line-2-width $desc-line-height, calc(100% - #{$card-padding} * 2) $avatar-size,
      100% $footer-height, 100% 100%;

    background-position: -150% 0,
      //animation
        $title-position,
      //title
        $desc-line-1-position,
      //desc1
        $desc-line-2-position,
      //desc2
        $avatar-position,
      //avatar
        $footer-position,
      //footer bar
        0 0; //card

    background-repeat: no-repeat;
    animation: loading 1.5s infinite;
  }
}

@keyframes loading {
  to {
    background-position: 350% 0, $title-position, $desc-line-1-position, $desc-line-2-position,
      $avatar-position, $footer-position, 0 0;
  }
}

.skeleton {
  .field {
    border-radius: 4px;
    min-height: 40px;
    width: 100%;
    background-color: #f5f5f5;
    animation-duration: 4s;
    animation-fill-mode: forwards;
    animation-iteration-count: infinite;
    animation-name: preloadAnim;
    animation-timing-function: linear;
    background: linear-gradient(to right, #f5f5f5 8%, #f9f9f9 18%, #f9f9f9 33%);
  }
  .line {
    display: flex;
    justify-content: space-between;
    .avatar {
      @extend .field;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      animation-duration: 8s;
    }
    .button {
      @extend .field;
      width: 100px;
      height: 40px;
      animation-duration: 8s;
    }
  }
  .card-image {
    @extend .field;
    height: 160px;
  }
  @keyframes preloadAnim {
    0% {
      background-position: -769px 0;
    }
    100% {
      background-position: 769px 0;
    }
  }
}
.skeleton-list-one-line {
  .field {
    margin: .8rem 0;
  }
}
